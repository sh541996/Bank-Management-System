<div class="container-fluid pb-5 mb-5">

    <nav class="navbar nav-pills navbar-expand-sm fixed-top navbar-light bg-primary">

        <a href="#" class="navbar-brand">
            <img src="../../../assets/images/logo.jpeg" alt="" style="width:100px;">
        </a>

        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#bankOptions">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bankOptions">

            <ul class="navbar-nav">

                <li class="nav-item">
                    <a href="/registerBankAccount" class="nav-link"> Register Account </a>
                </li>
                <li class="nav-item">
                    <a href="/listRegisterAccount" class="nav-link"> Accounts </a>
                </li>
                <li class="nav-item">
                    <a href="/invest" class="nav-link active"> Invest </a>
                </li>
                <li class="nav-item">
                    <a href="/listInvestment" class="nav-link">Investments </a>
                </li>
                <li class="nav-item">
                    <a href="/uniqueInvestment" class="nav-link">Investment</a>
                </li>

                <div style="margin-left: 600px">
                    <button class="btn " type="submit">
                        <a href="#" class="nav-link alert-danger">Logout</a>
                    </button>
                </div>

            </ul>
        </div>
    </nav>
</div>

<!-- form -->

<div class="container" style="margin-top: 200px">

    <div class="alert alert-danger text-center" *ngIf="errorMsg">{{errorMsg}}</div>
    <div class="alert alert-success text-center" *ngIf="!flag">Investment is done successfully</div>
    <h1 [class.d-none]="submit" class="text-center">Invest In Mutual-Fund</h1>
    <form #userForm="ngForm" (ngSubmit)="onSubmit()" *ngIf="!submit" novalidate>

        <div class="mb-3 row">
            <div class="col-3"></div>
            <label class="col-2">Select Account:</label>
            <div class="col-4">
            <div class="form-check" *ngFor="let acc of listAccount, index as i">
                <input class="form-check-input" type="radio" name="account" value="{{acc.accountNo}}"
                    #account1="ngModel" [checked]="i === 0" [(ngModel)]="investment.account">
                <label class="form-check-label">{{acc.accountNo}}</label>
            </div>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-3"></div>
            <label class="col-2">Enter Amount:</label>
            <input type="text" class="form-control col-4" required [(ngModel)]="investment.amount" name="investment"
                #investment1="ngModel" [class.is-invalid]="investment1.invalid && investment1.touched"
                pattern="[1-9]{1}[0-9]{1}">

            <div *ngIf="investment1.errors && (investment1.invalid || investment1.touched)">
                <small class="text-danger col-2" *ngIf="investment1.errors.required"
                    [class.d-none]="investment1.untouched">please provide the
                    amount to invest
                </small>
                <small class="text-danger col2" *ngIf="investment1.errors.pattern">provide provide your amount between 10 too
                    99 </small>
            </div>
        </div>


        <div class="form-group row">
            <div class="col-3"></div>
            <label class="col-2">Mutual Fund:</label>
            <select class="custom-select col-4" (blur)="validatefund(fundName1.value)"
                (change)="validatefund(fundName1.value)" [(ngModel)]="investment.fundName" name="fundName"
                #fundName1="ngModel" [class.is-invalid]="fundHasError && fundName1.touched">
                <option value="default" checked>choose your SIP</option>
                <option *ngFor="let fund of funds">{{fund}}</option>
            </select>
            <small class="text-danger col-2" [class.d-none]="!fundHasError ||  fundName1.untouched"> please select right
                option</small>
        </div>

        <div class="text-center">
            <button class="btn btn-primary" type="submit" [disabled]="userForm.form.invalid || flag1">submit</button>
        </div>

    </form>
</div>

<!-- table -->

<div class="container pb-5" style="margin-top: 100px" *ngIf="!flag">

    <table class="table">
        <thead>
            <tr>
                <th scope="col">Fund Name</th>
                <th scope="col">Account no</th>
                <th scope="col">Amount</th>
                <th scope="col">Fund Id</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>{{response.fundName}}</td>
                <td>{{response.account}}</td>
                <td>{{response.amount | currency: 'INR'}}</td>
                <td>{{response.fundId}}</td>
            </tr>
        </tbody>
    </table>

</div>